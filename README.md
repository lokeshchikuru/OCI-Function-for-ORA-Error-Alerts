# OCI-Function-for-ORA-Error-Alerts
This OCI Function processes raw JSON payloads generated by Oracle Cloud Infrastructure (OCI) Logging for ORA error events captured from Oracle Database alert logs. It transforms these payloads into a structured, user-friendly format and publishes notifications to an OCI Notification Service (ONS) topic, enabling real-time alerting for critical database errors.

**Key Features**

**Supports Single and Batch Payloads**
Handles both individual ORA error events and multiple entries in a single invocation.

**Extracts ORA Codes Dynamically**
Uses regex to identify ORA error codes (e.g., ORA-00600, ORA-7445) from alert log messages.

**Publishes Notifications**
Sends formatted alerts to an OCI Notification Topic for email, SMS, or custom integrations.

**Logging for Observability**
Built-in Python logging for troubleshooting and monitoring function execution.

**Architecture**
**Flow:**
1. OCI DBCS → Alert logs collected via Logging Agent Configuration
2. Logs sent to OCI Logging
3. Service Connector Hub applies MQL filter for ORA- errors
4. Invokes OCI Function
5. Function parses payload and sends Email Notification via OCI Notification Service (ONS)

<img width="1536" height="1024" alt="image" src="https://github.com/user-attachments/assets/4267235b-0ea9-473c-82c1-d3036642b577" />

**Prerequisites**
OCI tenancy with:

* OCI Logging enabled.
* OCI Functions service configured.
* OCI Notification Service topic created.
* fn CLI is installed
* podman/docker repository is created

**Container-Based Deployment (Multi-Arch Support)**
Since this function uses multi-architecture or custom dependencies, it cannot be deployed via Cloud Shell. Instead, deploy using a custom container image on a Compute VM or CI/CD pipeline.

**Deploy OCI Function Using Docker/Podman**
Prepare Your Function Files

* func.py → Your function logic.
* requirements.txt → Python dependencies.
* func.yaml → Function metadata (runtime, entry point, memory, timeout, etc.)




